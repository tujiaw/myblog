## 旧版本客户端程序使用新服务器数据
1. 假设某个数据结构有8个字段对应本地数据库的8个字段（包括这条数据的版本号）；
2. 服务器要给这个数据结构增加两个字段变成10个字段（服务器将这个数据的版本号加1）；

**正常情况下：**

1. 客户使用新的客户端会升级本地数据库成10个字段；
2. 使用这条数据的版本对比服务器版本，发现不一致请求服务器更新这条数据，将版本号置为最新，更新这条数据到本地数据库中。

**异常情况：**

1. 客户使用老的客户端，登录到新的服务器上去；
2. 使用这条数据的版本对比服务器版本，发现不一致请求服务器更新这条数据，将版本号置为最新，更新这条数据到数据库中，但是此时数据库没有升级还只能存8个字段，所以另外两个新字段的数据就被丢弃了（程序退出后）；
3. 当客户升级到新的客户端后，本地数据库会升级到10个字段；
4. 使用这条数据的版本对比服务器版本，发现是一致的。这样会造成新增的两个字段数据为空与服务器数据不一致。



> 造成这个问题的是本地数据库升级和服务器升级不一致。


**解决办法：由服务器来决定客户端本地数据的升级。**